!function(e,o){e=function(){var i=this;i.init=function(){i.$formSelect=o("#gpnf-form"),i.$fieldSelect=o("#gpnf-fields"),i.$formSettings=o("#gpnf-form-settings"),i.$entryLabelSingular=o("#gpnf-entry-label-singular"),i.$entryLabelPlural=o("#gpnf-entry-label-plural"),i.$entryLimitMin=o("#gpnf-entry-limit-min"),i.$entryLimitMax=o("#gpnf-entry-limit-max"),i.$feedProcessing=o("#gpnf-feed-processing"),i.$modalHeaderColor=o("#gpnf-modal-header-color"),o(document).bind("gform_load_field_settings",function(e,n,t){if("form"==n.type){var l=n.gpnfForm;i.$entryLabelSingular.val(n.gpnfEntryLabelSingular),i.$entryLabelPlural.val(n.gpnfEntryLabelPlural),i.$entryLimitMin.val(n.gpnfEntryLimitMin),i.$entryLimitMax.val(n.gpnfEntryLimitMax),i.$feedProcessing.val(i.getFeedProcessingSetting(n)),i.$modalHeaderColor.val(n.gpnfModalHeaderColor),o("#chip_gpnf-modal-header-color").css("background-color",n.gpnfModalHeaderColor),i.$formSelect.val(l),i.$formSettings.hide(),l&&i.getFormFields(l,n.gpnfFields)}}),o("#chooser_gpnf-modal-header-color, #chip_gpnf-modal-header-color").click(function(e){iColorShow(e.pageX,e.pageY,"gpnf-modal-header-color","")}),o().add(i.$entryLabelSingular).add(i.$entryLabelPlural).on("change",function(){RefreshSelectedFieldPreview()})},i.toggleNestedFormFields=function(){i.$formSelect.val()?i.getFormFields(this.$formSelect.val()):i.$formSettings.slideUp()},i.setFieldsSelect=function(e,n){for(var t=[],l=0;l<e.length;l++)-1===o.inArray(e[l].type,["page","html","section","captcha"])&&t.push('<option value="'+e[l].id+'">'+GetLabel(e[l])+"</option>");i.$fieldSelect.html(t.join("")),i.$fieldSelect.val(n).select2({placeholder:GPNFAdminData.strings.displayFieldsPlaceholder}).on("select2:select select2:unselect",function(){RefreshSelectedFieldPreview()}).on("select2:unselecting",function(){var e=o(this).data("select2").options;e.set("disabled",!0),setTimeout(function(){e.set("disabled",!1)},1)}),o.each(i.$fieldSelect.data("select2"),function(e,n){n instanceof jQuery&&n.addClass("gpnf-select2")}),i.$formSettings.slideDown()},i.getFormFields=function(e,t){var l=gfAjaxSpinner(i.$formSelect,null,"position:relative;top:6px;left:6px;");o.post(ajaxurl,{action:"gpnf_get_form_fields",nonce:GPNFAdminData.nonces.getFormFields,form_id:e},function(e){if(l.destroy(),"object"==typeof e){var n=e;i.setFieldsSelect(n,t)}else alert(GPNFAdminData.strings.getFormFieldsError)})},i.getFeedProcessingSetting=function(e){return e.gpnfFeedProcessing?e.gpnfFeedProcessing:"parent"},i.init()},o(document).ready(function(){window.gpGlobals||(window.gpGlobals={}),window.gpGlobals.GPNFAdmin=new e})}(window.GPNFAdmin=window.GPNFAdmin||{},jQuery);
//# sourceMappingURL=gp-nested-forms-admin.js.map