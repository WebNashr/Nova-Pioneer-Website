    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBroSr1E-YWhqnSuybyB7Ed6uap7eTO8Bs&callback=initMap"
    async defer></script>

    <style>
        #map{
            width: 100%;
            margin: 0;
            height: 400px;
        }
    </style>

    <div class="section-content-item section-content-item-full">
        <div class="location-map">
            <div id="map"></div>
        </div>
    </div>


    <script>
      let map;
      let locations_data = '{{locations}}';
      let locations = JSON.parse(locations_data.replace(/&quot;/ig, '"'));

      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: new google.maps.LatLng( locations[0].latitude, locations[0].longitude ),
          zoom: {{zoom}},
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        let markers = [];
        let infoWindows = [];

        locations.forEach(function(location){

            let marker = new google.maps.Marker({
                position: new google.maps.LatLng( location.latitude, location.longitude )
            });

            markers.push(marker);

            if( (location.info_text !== undefined) && (location.info_text !== null) && (location.info_text !== '') )
            {
                let infoWindow = new google.maps.InfoWindow({
                    content: location.info_text
                });

                infoWindows.push(infoWindow);

                google.maps.event.addListener(marker,'click',function(e){        
                    infoWindows[infoWindows.length - 1].open(map, markers[markers.length - 1]);        
                });
            }
 
        });

        markers.forEach(function(marker){
            marker.setMap(map);
        });


      }
    </script>